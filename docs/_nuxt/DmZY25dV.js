import{a as Q,i as Z,b as J,c as P,n as _,w as ee,d as te,p as oe,e as ie,P as re,t as j,g as se,_ as le}from"./CPAzZHZq.js";import{z as p,A as W,h as S,B as E,j as ne,C as ae,g as T,p as ue,i as ce,q as de,f as L,o as f,w as N,c as w,k as y,a as D,x as m,s as q,y as he,n as ge,d as U,t as G}from"./BdMQFVCH.js";const B=Z?window:void 0;function Y(e){var t;const i=E(e);return(t=i?.$el)!==null&&t!==void 0?t:i}function M(...e){const t=(l,s,o,u)=>(l.addEventListener(s,o,u),()=>l.removeEventListener(s,o,u)),i=S(()=>{const l=P(E(e[0])).filter(s=>s!=null);return l.every(s=>typeof s!="string")?l:void 0});return ee(()=>{var l,s;return[(l=(s=i.value)===null||s===void 0?void 0:s.map(o=>Y(o)))!==null&&l!==void 0?l:[B].filter(o=>o!=null),P(E(i.value?e[1]:e[0])),P(T(i.value?e[2]:e[1])),E(i.value?e[3]:e[2])]},([l,s,o,u],h,d)=>{if(!l?.length||!s?.length||!o?.length)return;const n=te(u)?{...u}:u,c=l.flatMap(r=>s.flatMap(g=>o.map(v=>t(r,g,v,n))));d(()=>{c.forEach(r=>r())})},{flush:"post"})}function pe(){const e=p(!1),t=ae();return t&&ne(()=>{e.value=!0},t),e}function K(e){const t=pe();return S(()=>(t.value,!!e()))}function ve(e,t,i={}){const{window:l=B,...s}=i;let o;const u=K(()=>l&&"MutationObserver"in l),h=()=>{o&&(o.disconnect(),o=void 0)},d=W(S(()=>{const r=P(E(e)).map(Y).filter(_);return new Set(r)}),r=>{h(),u.value&&r.size&&(o=new MutationObserver(t),r.forEach(g=>o.observe(g,s)))},{immediate:!0,flush:"post"}),n=()=>o?.takeRecords(),c=()=>{d(),h()};return J(c),{isSupported:u,stop:c,takeRecords:n}}function fe(e,t,i={}){const{window:l=B,...s}=i;let o;const u=K(()=>l&&"ResizeObserver"in l),h=()=>{o&&(o.disconnect(),o=void 0)},d=W(S(()=>{const c=E(e);return Array.isArray(c)?c.map(r=>Y(r)):[Y(c)]}),c=>{if(h(),u.value&&l){o=new ResizeObserver(t);for(const r of c)r&&o.observe(r,s)}},{immediate:!0,flush:"post"}),n=()=>{h(),d()};return J(n),{isSupported:u,stop:n}}const me={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof MouseEvent?[e.movementX,e.movementY]:null};function ye(e={}){const{type:t="page",touch:i=!0,resetOnTouchEnds:l=!1,initialValue:s={x:0,y:0},window:o=B,target:u=o,scroll:h=!0,eventFilter:d}=e;let n=null,c=0,r=0;const g=p(s.x),v=p(s.y),k=p(null),z=typeof t=="function"?t:me[t],R=a=>{const $=z(a);n=a,$&&([g.value,v.value]=$,k.value="mouse"),o&&(c=o.scrollX,r=o.scrollY)},x=a=>{if(a.touches.length>0){const $=z(a.touches[0]);$&&([g.value,v.value]=$,k.value="touch")}},b=()=>{if(!n||!o)return;const a=z(n);n instanceof MouseEvent&&a&&(g.value=a[0]+o.scrollX-c,v.value=a[1]+o.scrollY-r)},O=()=>{g.value=s.x,v.value=s.y},F=d?a=>d(()=>R(a),{}):a=>R(a),C=d?a=>d(()=>x(a),{}):a=>x(a),X=d?()=>d(()=>b(),{}):()=>b();if(u){const a={passive:!0};M(u,["mousemove","dragover"],F,a),i&&t!=="movement"&&(M(u,["touchstart","touchmove"],C,a),l&&M(u,"touchend",O,a)),h&&t==="page"&&M(o,"scroll",X,a)}return{x:g,y:v,sourceType:k}}function be(e,t={}){const{windowResize:i=!0,windowScroll:l=!0,handleOutside:s=!0,window:o=B}=t,u=t.type||"page",{x:h,y:d,sourceType:n}=ye(t),c=p(e??o?.document.body),r=p(0),g=p(0),v=p(0),k=p(0),z=p(0),R=p(0),x=p(!0);function b(){if(!o)return;const C=Y(c);if(!(!C||!(C instanceof Element)))for(const X of C.getClientRects()){const{left:a,top:$,width:H,height:I}=X;v.value=a+(u==="page"?o.pageXOffset:0),k.value=$+(u==="page"?o.pageYOffset:0),z.value=I,R.value=H;const V=h.value-v.value,A=d.value-k.value;if(x.value=H===0||I===0||V<0||A<0||V>H||A>I,(s||!x.value)&&(r.value=V,g.value=A),!x.value)break}}const O=[];function F(){O.forEach(C=>C()),O.length=0}if(Q(()=>{b()}),o){const{stop:C}=fe(c,b),{stop:X}=ve(c,b,{attributeFilter:["style","class"]}),a=W([c,h,d],b);O.push(C,X,a),M(document,"mouseleave",()=>x.value=!0,{passive:!0}),l&&O.push(M("scroll",b,{capture:!0,passive:!0})),i&&O.push(M("resize",b,{passive:!0}))}return{x:h,y:d,sourceType:n,elementX:r,elementY:g,elementPositionX:v,elementPositionY:k,elementHeight:z,elementWidth:R,isOutside:x,stop:F}}const Ce={slots:{root:"relative flex rounded-lg",spotlight:"absolute inset-0 rounded-[inherit] pointer-events-none bg-default/90",container:"relative flex flex-col flex-1 lg:grid gap-x-8 gap-y-4 p-4 sm:p-6",wrapper:"flex flex-col flex-1 items-start",header:"mb-4",body:"flex-1",footer:"pt-4 mt-auto",leading:"inline-flex items-center mb-2.5",leadingIcon:"size-5 shrink-0 text-primary",title:"text-base text-pretty font-semibold text-highlighted",description:"text-[15px] text-pretty"},variants:{orientation:{horizontal:{container:"lg:grid-cols-2 lg:items-center"},vertical:{container:""}},reverse:{true:{wrapper:"order-last"}},variant:{solid:{root:"bg-inverted text-inverted",title:"text-inverted",description:"text-dimmed"},outline:{root:"bg-default ring ring-default",description:"text-muted"},soft:{root:"bg-elevated/50",description:"text-toned"},subtle:{root:"bg-elevated/50 ring ring-default",description:"text-toned"},ghost:{description:"text-muted"},naked:{container:"p-0 sm:p-0",description:"text-muted"}},to:{true:{root:["has-focus-visible:ring-2 has-focus-visible:ring-primary","transition"]}},title:{true:{description:"mt-1"}},highlight:{true:{root:"ring-2"}},highlightColor:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},spotlight:{true:{root:"[--spotlight-size:400px] before:absolute before:-inset-px before:pointer-events-none before:rounded-[inherit] before:bg-[radial-gradient(var(--spotlight-size)_var(--spotlight-size)_at_calc(var(--spotlight-x,0px))_calc(var(--spotlight-y,0px)),var(--spotlight-color),transparent_70%)]"}},spotlightColor:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""}},compoundVariants:[{variant:"solid",to:!0,class:{root:"hover:bg-inverted/90"}},{variant:"outline",to:!0,class:{root:"hover:bg-elevated/50"}},{variant:"soft",to:!0,class:{root:"hover:bg-elevated"}},{variant:"subtle",to:!0,class:{root:"hover:bg-elevated"}},{variant:"subtle",to:!0,highlight:!1,class:{root:"hover:ring-accented"}},{variant:"ghost",to:!0,class:{root:"hover:bg-elevated/50"}},{highlightColor:"primary",highlight:!0,class:{root:"ring-primary"}},{highlightColor:"secondary",highlight:!0,class:{root:"ring-secondary"}},{highlightColor:"success",highlight:!0,class:{root:"ring-success"}},{highlightColor:"info",highlight:!0,class:{root:"ring-info"}},{highlightColor:"warning",highlight:!0,class:{root:"ring-warning"}},{highlightColor:"error",highlight:!0,class:{root:"ring-error"}},{highlightColor:"neutral",highlight:!0,class:{root:"ring-inverted"}},{spotlightColor:"primary",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-primary)]"}},{spotlightColor:"secondary",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-secondary)]"}},{spotlightColor:"success",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-success)]"}},{spotlightColor:"info",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-info)]"}},{spotlightColor:"warning",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-warning)]"}},{spotlightColor:"error",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-error)]"}},{spotlightColor:"neutral",spotlight:!0,class:{root:"[--spotlight-color:var(--ui-bg-inverted)]"}}],defaultVariants:{variant:"outline",highlightColor:"primary",spotlightColor:"primary"}},ke=Object.assign({inheritAttrs:!1},{__name:"UPageCard",props:{as:{type:null,required:!1},icon:{type:null,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},orientation:{type:null,required:!1,default:"vertical"},reverse:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},highlightColor:{type:null,required:!1},spotlight:{type:Boolean,required:!1},spotlightColor:{type:null,required:!1},variant:{type:null,required:!1},to:{type:null,required:!1},target:{type:[String,Object,null],required:!1},onClick:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(e){const t=e,i=ue(),l=ce(),s=oe(),o=de(),{elementX:u,elementY:h}=be(l,{eventFilter:s.eventFilter}),d=S(()=>t.spotlight&&(u.value!==0||h.value!==0));W(()=>t.spotlight,r=>{r?s.resume():s.pause()},{immediate:!0});const n=S(()=>j({extend:j(Ce),...o.ui?.pageCard||{}})({orientation:t.orientation,reverse:t.reverse,variant:t.variant,to:!!t.to||!!t.onClick,title:!!t.title||!!i.title,highlight:t.highlight,highlightColor:t.highlightColor,spotlight:d.value,spotlightColor:t.spotlightColor})),c=S(()=>(i.title&&se(i.title())||t.title||"Card link").trim());return(r,g)=>(f(),L(T(re),{ref_key:"cardRef",ref:l,as:e.as,"data-orientation":e.orientation,"data-slot":"root",class:m(n.value.root({class:[t.ui?.root,t.class]})),style:ge(d.value&&{"--spotlight-x":`${T(u)}px`,"--spotlight-y":`${T(h)}px`}),onClick:e.onClick},{default:N(()=>[t.spotlight?(f(),w("div",{key:0,"data-slot":"spotlight",class:m(n.value.spotlight({class:t.ui?.spotlight}))},null,2)):y("",!0),D("div",{"data-slot":"container",class:m(n.value.container({class:t.ui?.container}))},[i.header||e.icon||i.leading||i.body||e.title||i.title||e.description||i.description||i.footer?(f(),w("div",{key:0,"data-slot":"wrapper",class:m(n.value.wrapper({class:t.ui?.wrapper}))},[i.header?(f(),w("div",{key:0,"data-slot":"header",class:m(n.value.header({class:t.ui?.header}))},[q(r.$slots,"header")],2)):y("",!0),e.icon||i.leading?(f(),w("div",{key:1,"data-slot":"leading",class:m(n.value.leading({class:t.ui?.leading}))},[q(r.$slots,"leading",{ui:n.value},()=>[e.icon?(f(),L(le,{key:0,name:e.icon,"data-slot":"leadingIcon",class:m(n.value.leadingIcon({class:t.ui?.leadingIcon}))},null,8,["name","class"])):y("",!0)])],2)):y("",!0),i.body||e.title||i.title||e.description||i.description?(f(),w("div",{key:2,"data-slot":"body",class:m(n.value.body({class:t.ui?.body}))},[q(r.$slots,"body",{},()=>[e.title||i.title?(f(),w("div",{key:0,"data-slot":"title",class:m(n.value.title({class:t.ui?.title}))},[q(r.$slots,"title",{},()=>[U(G(e.title),1)])],2)):y("",!0),e.description||i.description?(f(),w("div",{key:1,"data-slot":"description",class:m(n.value.description({class:t.ui?.description}))},[q(r.$slots,"description",{},()=>[U(G(e.description),1)])],2)):y("",!0)])],2)):y("",!0),i.footer?(f(),w("div",{key:3,"data-slot":"footer",class:m(n.value.footer({class:t.ui?.footer}))},[q(r.$slots,"footer")],2)):y("",!0)],2)):y("",!0),q(r.$slots,"default")],2),e.to?(f(),L(ie,he({key:1,"aria-label":c.value},{to:e.to,target:e.target,...r.$attrs},{class:"focus:outline-none peer",raw:""}),{default:N(()=>[...g[0]||(g[0]=[D("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1)])]),_:1},16,["aria-label"])):y("",!0)]),_:3},8,["as","data-orientation","class","style","onClick"]))}});export{ke as _};
